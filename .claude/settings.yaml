# Claude Code Settings for Auto-Development (GitHub Projects)

hooks:
  SessionStart:
    command: |
      CURRENT_BRANCH=$(git branch --show-current 2>/dev/null || echo "main")
      if [ "$CURRENT_BRANCH" = "main" ]; then
        # GitHub Projectsã‹ã‚‰æ¬¡ã®ã‚¿ã‚¹ã‚¯ã‚’å–å¾—
        NEXT_TASK=$(gh project item-list 1 --owner kawaka0001 --format json --limit 100 2>/dev/null | \
          jq -r '.items[] | select(.status == "Todo") | "ğŸ“‹ æ¬¡ã®ã‚¿ã‚¹ã‚¯: Issue #\(.content.number) - \(.content.title)\n\nã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹: \(.status) | ãƒ©ãƒ™ãƒ«: \(.labels | join(", "))"' | head -1)

        if [ -n "$NEXT_TASK" ]; then
          echo "$NEXT_TASK"
        else
          echo "âœ… ã™ã¹ã¦ã®ã‚¿ã‚¹ã‚¯ãŒå®Œäº†ã—ã¦ã„ã¾ã™"
        fi
      else
        echo "ğŸ”§ ç¾åœ¨ã®ãƒ–ãƒ©ãƒ³ãƒ: $CURRENT_BRANCH"
      fi

  PostToolUse:
    command: |
      # PRãŒä½œæˆã•ã‚ŒãŸã‹ãƒã‚§ãƒƒã‚¯
      if echo "$CLAUDE_TOOL_OUTPUT" | grep -q "https://github.com/.*/pull/"; then
        echo "âœ¨ PRä½œæˆå®Œäº†ï¼ãƒ¬ãƒ“ãƒ¥ãƒ¼å¾Œã«ãƒãƒ¼ã‚¸ã—ã¦ãã ã•ã„"
        echo "ğŸ“Š GitHub Projectsã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã¯è‡ªå‹•æ›´æ–°ã•ã‚Œã¾ã™"
      fi
